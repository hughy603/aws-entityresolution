# Linting Configuration

This project uses a comprehensive linting setup to maintain code quality while minimizing developer friction. The configuration focuses on catching critical issues while suppressing noise.

## Quick Usage Guide

| Command | Description |
|---------|-------------|
| `make fix` | Run auto-fix for common linting issues |
| `make fix-all` | Run all fix scripts and linting |
| `make check` | Run pre-commit on changed files only |
| `make check-full` | Run full pre-commit checks on all files |
| `make lint` | Run optimized linting checks |
| `make lint-fix-all` | Run complete linting and fixing script |

## Advanced Commands

| Command | Description |
|---------|-------------|
| `make fix-mypy` | Run only mypy fixes (for resolving duplicate module errors) |
| `make fix-ruff` | Run only Ruff fixes (for auto-fixing common code style issues) |
| `pre-commit run --hook-stage manual fix-all` | Run the fix-all script via pre-commit |

## Pre-commit Hooks

Pre-commit hooks run automatically when committing code. To run all checks manually, use:

```bash
pre-commit run --all-files
```

To run specific hooks:

```bash
pre-commit run [hook-name] --all-files
```

## Automatic Fix Scripts

The project includes several scripts to automatically fix common issues:

- `scripts/fix_all.py`: Runs all fix scripts in sequence
- `scripts/fix_mypy_issues.py`: Resolves duplicate module issues by creating proper imports
- `scripts/fix_ruff.py`: Auto-fixes common Ruff linting issues
- `scripts/fix_test_loader.py`: Fixes imports in test loader files
- `scripts/fix_test_processor.py`: Fixes imports in test processor files

## Configuration Files

- `.pre-commit-config.yaml`: Pre-commit hook configuration
- `pyproject.toml`: Ruff and other tool configurations
- `.mypy.ini`: Type checking configuration
- `Makefile`: Simplified commands for running linting

## Configured Tools

- **Ruff**: Fast Python linter, replaces multiple tools (flake8, isort, etc.)
- **mypy**: Static type checking
- **Black**: Code formatting (via Ruff)
- **pre-commit**: Git hook management
- **Custom Fix Scripts**: Automate fixes for common issues

## Excluded Files and Directories

The following directories are skipped during linting:
- `.venv/`: Virtual environment
- `.git/`: Git files
- `terraform/`: Terraform configuration files (except Python scripts)
- Various autogenerated files and cached directories

## Why This Approach?

1. **Save Time**: Developers spend less time fixing linting issues
2. **Reduce Noise**: Focus on critical issues, not style nits
3. **Automate Fixes**: Common issues are fixed automatically
4. **Maintain Quality**: Critical checks still run to catch real issues

This linting configuration is designed to be pragmatic, focusing on catching real issues while reducing developer friction. The auto-fix scripts help maintain code quality without slowing down development.
